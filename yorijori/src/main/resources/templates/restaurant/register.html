<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>save</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
    <!-- front 부분은 되도록이면 복사 붙여넣기 해주세요 -->
    <!-- action속성: 목적지(서버주소), method속성: http request method(get, post) -->
<!--    <form action="/restaurant/save" method="post">-->
<!--        가게이름:<input type="text" name="name"> <br>-->
<!--        주소:<input type="text" name="address"> <br>-->
<!--        사업자번호:<input type="text" name="business_number"> <br>-->
<!--        가게번호:<input type="text" name="phone_number"> <br>-->
<!--        테이블 수 : <input type="text" name="duplicate_reservation"> <br>-->
<!--        <label for="category">카테고리 선택</label>-->
<!--        <select name="category" id="category">-->
<!--            <option value="KR">한식</option>-->
<!--            <option value="CN">중식</option>-->
<!--            <option value="JP">일식</option>-->
<!--            <option value="EU">양식</option>-->
<!--            <option value="BS">분식</option>-->
<!--        </select><br>-->
<!--        영업시작: <input type="datetime-local" name="start_time"> <br>-->
<!--        영업종료: <input type="datetime-local" name="end_time"> <br>-->
<!--        가게 설명 : <br>-->
<!--        <textarea type="text" name="description" cols="30" rows="10"></textarea> <br>-->
<!--        썸네일 사진: <input type="text" name="thumbnail"> <br>-->
<!--        <input type="submit" value="레스토랑등록">-->
<!--    </form>-->

            가게이름:<input type="text" name="name" id="name"> <br>
            주소:<input type="text" name="address" id="address"> <br>
            사업자번호:<input type="text" name="business_number" id="business_number"> <br>
            가게번호:<input type="text" name="phone_number" id="phone_number"> <br>
            테이블 수 : <input type="text" name="duplicate_reservation" id="duplicate_reservation"> <br>
            <label for="category">카테고리 선택</label>
            <select name="category" id="category">
                <option value="KR">한식</option>
                <option value="CN">중식</option>
                <option value="JP">일식</option>
                <option value="EU">양식</option>
                <option value="BS">분식</option>
            </select><br>
            영업시작: <input type="datetime-local" name="start_time" id="start_time"> <br>
            영업종료: <input type="datetime-local" name="end_time" id="end_time"> <br>
            가게 설명 : <br>
            <textarea type="text" name="description" id="description" cols="30" rows="10"></textarea> <br>
            썸네일 사진: <input type="text" name="thumbnail" id="thumbnail"> <br>
          <button id="restaurant_registration">레스토랑등록</button>
</body>
<script>
    $("#restaurant_registration").click(function () {

        const name = $("#name").val();
        const address = $("#address").val();
        const business_number = $("#business_number").val();
        const phone_number = $("#phone_number").val();
        const duplicate_reservation = $("#duplicate_reservation").val();
        const category = $("#category").val();
        const start_time = $("#start_time").val();
        const end_time = $("#end_time").val();
        const description = $("#description").val();
        const thumbnail = $("#thumbnail").val();

        const data = {
            'name': name,
            'address': address,
            'business_number': business_number,
            'phone_number': phone_number,
            'duplicate_reservation': duplicate_reservation,
            'category': category,
            'start_time': start_time,
            'end_time': end_time,
            'description': description,
            'thumbnail' : thumbnail
        }
        $.ajax({
            url: "/restaurant/save",
            type: "POST",
            data: JSON.stringify(data),
            contentType: "application/json; charset=UTF-8",
            // beforeSend : function(xhr){
            //     xhr.setRequestHeader(header, token);
            // },
            success: function(data){
                alert("등록되었습니다.");
                $(location).attr('href','/restaurant/list');
            },
            error: function(){
                alert("err");
            }
        });
    });
</script>

</html>