<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/userInfo.css">
    <th:block th:replace="fragments/commoncss :: commoncssFragment"></th:block>
    <title>details</title>
</head>
<body>
<th:block th:replace="fragments/header :: headerFragment"></th:block>
    <h2 th:text="${detail.name}"></h2>
    <div class="detail_container">
    <div class="image_box" style="width: 450px; height: 600px;">
        <img class="image" th:src="${detail.thumbnail}" th:alt="${detail.thumbnail}">
    </div>
    <ul>
        <li>주소 <span th:text="${detail.address}"></span></li>
        <li>오픈 <span th:text="${detail.start_time}"></span></li>
        <li>마감 <span th:text="${detail.end_time}"></span></li>
        <form th:action="@{|/reservation/${detail.rno}|}" method="get">
            <button type="submit">예약하기</button>
        </form>
    </ul>
    <p th:text="${detail.description}"></p>
    </div>


<form action="/comment/register" method="post">
    <div class="comment_register_box">
    <input type="hidden" name="rno" th:value="${detail.rno}">
    <select name="rate" id="category">
        <option value="1">★☆☆☆☆</option>
        <option value="2">★★☆☆☆</option>
        <option value="3">★★★☆☆</option>
        <option value="4">★★★★☆</option>
        <option value="5">★★★★★</option>
    </select><br>
    <textarea name="review" id="" cols="30" rows="10" placeholder="댓글을 입력해주세요." th:unless="${#strings.isEmpty(session.username)}"></textarea>
    <textarea name="review" id="" cols="30" rows="10" placeholder="로그인을 해주세요" th:if="${#strings.isEmpty(session.username)}" readonly="true"></textarea>
    <button type="submit">등록</button>
    </div>
</form>

<div th:each="comment: ${commentList}">
    <span style="font-weight: bold" th:text="${comment.nickname}"></span>
    <span th:text="${comment.review}"></span>
    <span th:text="${comment.rate}"></span>
    <form action="/comment/delete" method="post">
        <input type="hidden" name="cno" th:value="${comment.cno}">
        <button type="submit">x</button>
    </form>

    <br>
</div>
<th:block th:replace="fragments/footer :: footerFragment"></th:block>
</body>
</html>